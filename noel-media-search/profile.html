<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
    <title>User Profile | NoelVerse</title>
</head>
<body>
    <div class="wrapper">
        <!-- Navigation -->
        <nav class="nav">
            <div class="nav-logo">
                <p>NoelVerse</p>
            </div>
            <div class="nav-menu" id="navMenu">
                <ul>
                    <li><a href="home.html" class="link">Home</a></li>
                    <li><a href="profile.html" class="link" id="profileLink" style="display: block;">Profile</a></li>
                    <li><a href="services.html" class="link">Services</a></li>
                    <li><a href="about.html" class="link">About</a></li>
                </ul>
            </div>
            <div class="nav-menu-btn">
                <i class="bx bx-menu" onclick="myMenuFunction()"></i>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <header>
                <h1>User Profile</h1>
                <p>Manage your account, saved searches, and favorite images.</p>
            </header>

            <div class="profile-content">
                <!-- User Information -->
                <section class="profile-section">
                    <h2>User Information</h2>
                    <p><strong>Username:</strong> <span id="username">JohnDoe123</span></p>
                    <p><strong>Email:</strong> <span id="email">johndoe@example.com</span></p>
                    <button class="btn" onclick="editProfile()">Edit Profile</button>
                </section>

                <!-- Saved Searches -->
                <section class="profile-section">
                    <h2>Saved Searches</h2>
                    <ul id="savedSearchesList">
                        <!-- Saved searches will be listed here -->
                    </ul>
                    <button class="btn" id="clearSavedSearchesBtn" onclick="clearSavedSearches()">Clear Saved Searches</button>
                </section>

                <!-- Favorite Images -->
                <section class="profile-section">
                    <h2>Favorite Images</h2>
                    <div id="favoriteImagesList">
                        <!-- Favorite images will be listed here -->
                    </div>
                    <button class="btn" id="clearFavoritesBtn" onclick="clearFavorites()">Clear Favorites</button>
                </section>

                <!-- Logout Button -->
                <section class="profile-section">
                    <button class="btn" onclick="logout()">Logout</button>
                </section>
            </div>
        </div>
    </div>

    <script>
        // Simulated login status
        var isLoggedIn = true; // Set to true to simulate user being logged in
        var savedSearches = ["Landscape", "Nature", "Cityscape"]; // Example saved searches
        var favoriteImages = [
            { id: 1, title: "Mountain View", url: "https://via.placeholder.com/200" },
            { id: 2, title: "Beach Sunset", url: "https://via.placeholder.com/200" }
        ]; // Example favorite images

        // Check if user is logged in
        if (!isLoggedIn) {
            window.location.href = "login.html"; // Redirect to login if not logged in
        } else {
            document.getElementById("profileLink").style.display = "block"; // Show the profile link
            loadProfileData();
        }

        // Load saved searches and favorite images
        function loadProfileData() {
            var savedSearchesList = document.getElementById("savedSearchesList");
            savedSearches.forEach(function(search) {
                var listItem = document.createElement('li');
                listItem.textContent = search;
                savedSearchesList.appendChild(listItem);
            });

            var favoriteImagesList = document.getElementById("favoriteImagesList");
            favoriteImages.forEach(function(image) {
                var imageDiv = document.createElement('div');
                imageDiv.classList.add('image-item');
                imageDiv.innerHTML = `
                    <img src="${image.url}" alt="${image.title}">
                    <h3>${image.title}</h3>
                `;
                favoriteImagesList.appendChild(imageDiv);
            });
        }

        // Clear saved searches
        function clearSavedSearches() {
            savedSearches = [];
            document.getElementById("savedSearchesList").innerHTML = '';
            alert("Saved searches cleared.");
        }

        // Clear favorite images
        function clearFavorites() {
            favoriteImages = [];
            document.getElementById("favoriteImagesList").innerHTML = '';
            alert("Favorites cleared.");
        }

        // Edit profile (simulated)
        function editProfile() {
            alert("Profile edit functionality will be available soon.");
        }

        // Logout functionality
        function logout() {
            isLoggedIn = false;
            document.getElementById("profileLink").style.display = "none"; // Hide the profile link
            window.location.href = "login.html"; // Redirect to login page after logout
            alert("You have logged out.");
        }

        // Navigation toggle for mobile
        function myMenuFunction() {
            var i = document.getElementById("navMenu");
            if (i.className === "nav-menu") {
                i.className += " responsive";
            } else {
                i.className = "nav-menu";
            }
        }
    </script>
</body>
</html>
